<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>FastBook Viewer - 읽기</title>
    <link rel="stylesheet" href="css/viewer.css">
    <meta name="theme-color" content="#000000">
</head>
<body>
    <div id="viewer" class="viewer">
        <!-- 상단 툴바 -->
        <div id="toolbar" class="toolbar">
            <button id="backBtn" class="btn-icon" title="목록으로">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <div class="book-title" id="bookTitle"></div>
            <button id="fullscreenBtn" class="btn-icon" title="전체화면">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/>
                </svg>
            </button>
        </div>

        <!-- 이미지 표시 영역 -->
        <div id="imageContainer" class="image-container">
            <!-- 로딩 스켈레톤 -->
            <div id="loadingSkeleton" class="loading-skeleton">
                <div class="skeleton-box"></div>
            </div>

            <!-- 메인 이미지 -->
            <img id="mainImage" class="main-image" alt="페이지 이미지" style="display:none;">

            <!-- 에러 상태 -->
            <div id="imageError" class="image-error" style="display:none;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <circle cx="8.5" cy="8.5" r="1.5"/>
                    <polyline points="21 15 16 10 5 21"/>
                </svg>
                <p>이미지를 불러올 수 없습니다</p>
                <button id="reloadImageBtn" class="btn-secondary">다시 시도</button>
            </div>

            <!-- 네비게이션 영역 (투명 클릭 영역) -->
            <div class="nav-area nav-prev" id="navPrev"></div>
            <div class="nav-area nav-next" id="navNext"></div>
        </div>

        <!-- 하단 컨트롤 -->
        <div id="controls" class="controls">
            <div class="controls-content">
                <!-- 페이지 정보 -->
                <div class="page-info">
                    <button id="prevPageBtn" class="btn-icon" title="이전 페이지">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="15 18 9 12 15 6"/>
                        </svg>
                    </button>
                    <div class="page-display">
                        <input type="number" id="currentPageInput" class="page-input" min="1">
                        <span class="page-separator">/</span>
                        <span id="totalPages" class="total-pages">0</span>
                    </div>
                    <button id="nextPageBtn" class="btn-icon" title="다음 페이지">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="9 18 15 12 9 6"/>
                        </svg>
                    </button>
                </div>

                <!-- 진행률 슬라이더 -->
                <div class="progress-container">
                    <input type="range" id="progressSlider" class="progress-slider" min="1" value="1">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <!-- 줌 컨트롤 -->
                <div class="zoom-controls">
                    <button id="zoomOutBtn" class="btn-icon" title="축소">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35M8 11h6"/>
                        </svg>
                    </button>
                    <button id="zoomResetBtn" class="btn-icon" title="원본 크기">
                        <span id="zoomLevel">100%</span>
                    </button>
                    <button id="zoomInBtn" class="btn-icon" title="확대">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35M11 8v6M8 11h6"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 터치/마우스 제스처 오버레이 -->
        <div id="gestureOverlay" class="gesture-overlay"></div>
    </div>

    <!-- 스크립트 로드 - 통합 버전 사용 -->
    <script src="js/config.js"></script>
    <script src="js/viewer-all.js"></script>
</body>
</html>